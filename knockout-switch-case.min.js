/*
 SWITCH/CASE binding for Knockout http://knockoutjs.com/
 (c) Michael Best
 License: MIT (http://www.opensource.org/licenses/mit-license.php)
 Version 2.1.0
*/
!function(e,n){"function"==typeof define&&define.amd?define(["knockout"],n):"object"==typeof exports?module.exports=n(require("knockout")):n(e.ko)}(this,function(e){function n(n,i){var t=f(i.$switchValueAccessor());return"boolean"==typeof t?n?t:!t:"boolean"==typeof n?n:n instanceof Array?-1!==e.utils.arrayIndexOf(n,t):n==t}function i(e,i){return!n(e,i)}function t(e){return function(){return e}}function s(s,r,a){var o=r?i:n;return s||(s="if"),a||(a=t),{flags:h[s].flags,init:function(n,i,t,r,u){if(!u.$switchSkipNextArray)throw Error("case binding must only be used with a switch binding");if(u.$switchIndex!==c)throw Error("case binding cannot be nested");return u.$switchIndex=u.$switchSkipNextArray.push(e.observable(!1))-1,u.$caseValue=e.observable(),e.computed(function(){var e,n,t,s=u.$switchIndex,r=s===u.$switchSkipNextArray.length-1;if(s&&u.$switchSkipNextArray[s-1]())e=!1,n=!0;else{var a=f(i());a===u.$else?(e=u.$switchDefault()||r,n=!1):t=n=e=o(a,u)}u.$caseValue(e),u.$switchSkipNextArray[s](n),t?u.$switchDefault(!1):!n&&r&&u.$switchDefault(!0)},null,{disposeWhenNodeIsRemoved:n}),h[s].init?h[s].init(n,a(u.$caseValue),t,r,u):void 0},update:function(e,n,i,t,r){return h[s].update?h[s].update(e,a(r.$caseValue),i,t,r):void 0}}}function r(e,n,i){return u.allowedBindings[e]&&(u.allowedBindings[i]=!0),s(e,"casenot"===n)}function a(e,n,i){return r(n,e,i)}function o(e,n){h[e]=s("if",n),d[e]=!1,u.allowedBindings[e]=!0,h[e].makeSubkeyHandler=a,h[e].getNamespacedHandler=r}var c;if(!e.virtualElements)throw Error("Switch-case requires at least Knockout 2.1");var u=e.virtualElements,l=e.bindingFlags||{},d=e.bindingRewriteValidators||e.jsonExpressionRewriting.bindingRewriteValidators,f=e.utils.unwrapObservable,h=e.bindingHandlers,w={};h["switch"]={flags:l.contentBind|l.canUseVirtual|l.noValue,init:function(n,i,t,s,r){var a=[],o={$switchSkipNextArray:a,$switchValueAccessor:i,$switchDefault:e.observable(!0),$default:w,$else:w},l=[];e.computed(function(){var n=f(i());o.$value=n,e.utils.arrayForEach(l,function(e){e.$value=n})},null,{disposeWhenNodeIsRemoved:n});for(var d,h=u.firstChild(n);d=h;)switch(h=u.nextSibling(d),d.nodeType){case 1:case 8:var p=r.extend(o);p.$switchIndex=c,e.applyBindings(p,d),p.$switchIndex!==c&&l.push(p)}return{controlsDescendantBindings:!0}},preprocess:function(e){return e||"true"}},d["switch"]=!1,u.allowedBindings["switch"]=!0,o("case"),o("casenot",!0),h["case.visible"]=s("visible"),h["casenot.visible"]=s("visible",!0),h["switch"].makeCaseHandler=s});
